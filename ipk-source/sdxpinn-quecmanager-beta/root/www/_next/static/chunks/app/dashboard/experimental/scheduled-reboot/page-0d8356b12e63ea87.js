(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5914],{70066:(e,t,a)=>{Promise.resolve().then(a.bind(a,58674))},58674:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(20475),s=a(20107),i=a(32857),n=a(72167),d=a(49153),o=a(18861),l=a(64219),c=a(79266),u=a(37369),f=a(74624),m=a(22250),h=a(77257);let p=s.createContext({size:"default",variant:"default"}),y=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,children:n,...d}=e;return(0,r.jsx)(f.bL,{ref:t,className:(0,m.cn)("flex items-center justify-center gap-1",a),...d,children:(0,r.jsx)(p.Provider,{value:{variant:s,size:i},children:n})})});y.displayName=f.bL.displayName;let g=s.forwardRef((e,t)=>{let{className:a,children:i,variant:n,size:d,...o}=e,l=s.useContext(p);return(0,r.jsx)(f.q7,{ref:t,className:(0,m.cn)((0,h.v)({variant:l.variant||n,size:l.size||d}),a),...o,children:i})});g.displayName=f.q7.displayName;var b=a(42541);let v=()=>{let{toast:e}=(0,i.dj)(),[t,a]=(0,s.useState)(!1),[f,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)({enabled:!1,time:"03:00",days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}),[v,x]=(0,s.useState)("03:00"),[w,j]=(0,s.useState)(["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]),N=async()=>{try{a(!0);let e=await fetch("/cgi-bin/quecmanager/experimental/scheduled_reboot.sh");if(!e.ok)throw Error("Failed to fetch configuration");let t=await e.text();try{let e=JSON.parse(t);if("success"===e.status&&e.data){let t=e.data,a={enabled:"boolean"==typeof t.enabled&&t.enabled,time:"string"==typeof t.time?t.time:"03:00",days:Array.isArray(t.days)?t.days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]};p(a),x(a.time),j(a.days)}else throw Error(e.message||"Invalid configuration format")}catch(e){throw console.error("Response parsing error:",t),Error("Failed to parse server response")}}catch(t){e({variant:"destructive",title:"Error",description:t instanceof Error?t.message:"Failed to fetch configuration"})}finally{a(!1)}},T=async t=>{try{m(!0);let a=await fetch("/cgi-bin/quecmanager/experimental/scheduled_reboot.sh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to save configuration");let r=await a.json();if("success"===r.status)p(r.data),x(r.data.time),j(r.data.days),e({title:"Success",description:"Scheduled reboot settings saved successfully"});else throw Error(r.message||"Failed to save configuration")}catch(t){e({variant:"destructive",title:"Error",description:t instanceof Error?t.message:"Failed to save configuration"})}finally{m(!1)}},S=async e=>{e?await T({enabled:!0,time:v,days:w}):await T({...h,enabled:!1})},E=async()=>{try{m(!0);let t=await fetch("/cgi-bin/quecmanager/experimental/scheduled_reboot.sh",{method:"DELETE"});if(!t.ok)throw Error("Failed to reset configuration");let a=await t.json();if("success"===a.status)p(a.data),x(a.data.time),j(a.data.days),e({title:"Success",description:"Scheduled reboot settings reset to default"});else throw Error(a.message||"Failed to reset configuration")}catch(t){e({variant:"destructive",title:"Error",description:t instanceof Error?t.message:"Failed to reset configuration"})}finally{m(!1)}};return(0,s.useEffect)(()=>{N()},[]),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Scheduled Reboot"}),(0,r.jsx)(n.BT,{children:"Manage the scheduled reboot settings for your device."})]}),(0,r.jsxs)(n.Wu,{className:"grid space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,r.jsx)(o.d,{id:"scheduled-reboot",checked:h.enabled,onCheckedChange:S,disabled:f||t}),(0,r.jsx)(d.J,{htmlFor:"scheduled-reboot",children:"Enable Scheduled Reboot"})]}),(0,r.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-2",children:[(0,r.jsx)(d.J,{htmlFor:"rebootTime",children:"Set Reboot Time"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.p,{id:"rebootTime",type:"time",placeholder:"Reboot Time",value:v,onChange:e=>{x(e.target.value)},disabled:f,className:"peer block w-full rounded-md border py-[9px] text-sm"}),(0,r.jsx)(c.A,{className:"pointer-events-none absolute right-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2"})]})]}),(0,r.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-2",children:[(0,r.jsx)(d.J,{htmlFor:"days",children:"Set Reboot Days"}),(0,r.jsxs)(y,{type:"multiple",variant:"outline",value:w,onValueChange:e=>{j(e)},disabled:f,children:[(0,r.jsx)(g,{value:"monday","aria-label":"Toggle Monday",children:(0,r.jsx)(d.J,{className:"cursor-pointer",htmlFor:"monday",children:"Monday"})}),(0,r.jsx)(g,{value:"tuesday","aria-label":"Toggle Tuesday",children:(0,r.jsx)(d.J,{className:"cursor-pointer",htmlFor:"tuesday",children:"Tuesday"})}),(0,r.jsx)(g,{value:"wednesday","aria-label":"Toggle Wednesday",children:(0,r.jsx)(d.J,{className:"cursor-pointer",htmlFor:"wednesday",children:"Wednesday"})}),(0,r.jsx)(g,{value:"thursday","aria-label":"Toggle Thursday",children:(0,r.jsx)(d.J,{className:"cursor-pointer",htmlFor:"thursday",children:"Thursday"})}),(0,r.jsx)(g,{value:"friday","aria-label":"Toggle Friday",children:(0,r.jsx)(d.J,{className:"cursor-pointer",htmlFor:"friday",children:"Friday"})}),(0,r.jsx)(g,{value:"saturday","aria-label":"Toggle Saturday",children:(0,r.jsx)(d.J,{className:"cursor-pointer",htmlFor:"saturday",children:"Saturday"})}),(0,r.jsx)(g,{value:"sunday","aria-label":"Toggle Sunday",children:(0,r.jsx)(d.J,{className:"cursor-pointer",htmlFor:"sunday",children:"Sunday"})})]})]})]}),(0,r.jsx)(n.wL,{className:"flex border-t py-4",children:(0,r.jsxs)(b.$,{variant:"secondary",onClick:E,disabled:f||t,children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),"Reset to Default"]})})]})}},42541:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>o});var r=a(20475),s=a(20107),i=a(61837),n=a(29395),d=a(22250);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:l=!1,...c}=e,u=l?i.DX:"button";return(0,r.jsx)(u,{className:(0,d.cn)(o({variant:s,size:n,className:a})),ref:t,...c})});l.displayName="Button"},72167:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>d,wL:()=>u});var r=a(20475),s=a(20107),i=a(22250);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...s})});n.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})});d.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},64219:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(20475),s=a(20107),i=a(22250);let n=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});n.displayName="Input"},49153:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var r=a(20475),s=a(20107),i=a(21840),n=a(29395),d=a(22250);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.b,{ref:t,className:(0,d.cn)(o(),a),...s})});l.displayName=i.b.displayName},18861:(e,t,a)=>{"use strict";a.d(t,{d:()=>d});var r=a(20475),s=a(20107),i=a(80982),n=a(22250);let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.bL,{className:(0,n.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...s,ref:t,children:(0,r.jsx)(i.zi,{className:(0,n.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});d.displayName=i.bL.displayName},77257:(e,t,a)=>{"use strict";a.d(t,{l:()=>l,v:()=>o});var r=a(20475),s=a(20107),i=a(85692),n=a(29395),d=a(22250);let o=(0,n.F)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,...l}=e;return(0,r.jsx)(i.b,{ref:t,className:(0,d.cn)(o({variant:s,size:n,className:a})),...l})});l.displayName=i.b.displayName},32857:(e,t,a)=>{"use strict";a.d(t,{dj:()=>f,oR:()=>u});var r=a(20107);let s=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function c(e){l=d(l,e),o.forEach(e=>{e(l)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=r.useState(l);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},22250:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var r=a(64901),s=a(868);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[1258,2114,191,6035,7358],()=>t(70066)),_N_E=e.O()}]);