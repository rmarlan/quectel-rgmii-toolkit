(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4840],{18866:(e,s,t)=>{Promise.resolve().then(t.bind(t,70687))},70687:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>er});var a,r=t(20475),n=t(20107),i=t(32857),l=t(72167),d=t(55948),c=t(94521),o=t(45170),m=t(13061),p=t(64236),u=t(57563),h=(t(41913),t(54245)),x=t(34544),f=t(55302),g="HoverCard",[j,N]=(0,o.A)(g,[u.Bk]),y=(0,u.Bk)(),[v,b]=j(g),w=e=>{let{__scopeHoverCard:s,children:t,open:a,defaultOpen:i,onOpenChange:l,openDelay:d=700,closeDelay:c=300}=e,o=y(s),p=n.useRef(0),h=n.useRef(0),x=n.useRef(!1),f=n.useRef(!1),[g=!1,j]=(0,m.i)({prop:a,defaultProp:i,onChange:l}),N=n.useCallback(()=>{clearTimeout(h.current),p.current=window.setTimeout(()=>j(!0),d)},[d,j]),b=n.useCallback(()=>{clearTimeout(p.current),x.current||f.current||(h.current=window.setTimeout(()=>j(!1),c))},[c,j]),w=n.useCallback(()=>j(!1),[j]);return n.useEffect(()=>()=>{clearTimeout(p.current),clearTimeout(h.current)},[]),(0,r.jsx)(v,{scope:s,open:g,onOpenChange:j,onOpen:N,onClose:b,onDismiss:w,hasSelectionRef:x,isPointerDownOnContentRef:f,children:(0,r.jsx)(u.bL,{...o,children:t})})};w.displayName=g;var _="HoverCardTrigger",P=n.forwardRef((e,s)=>{let{__scopeHoverCard:t,...a}=e,n=b(_,t),i=y(t);return(0,r.jsx)(u.Mz,{asChild:!0,...i,children:(0,r.jsx)(x.sG.a,{"data-state":n.open?"open":"closed",...a,ref:s,onPointerEnter:(0,c.m)(e.onPointerEnter,I(n.onOpen)),onPointerLeave:(0,c.m)(e.onPointerLeave,I(n.onClose)),onFocus:(0,c.m)(e.onFocus,n.onOpen),onBlur:(0,c.m)(e.onBlur,n.onClose),onTouchStart:(0,c.m)(e.onTouchStart,e=>e.preventDefault())})})});P.displayName=_;var[C,k]=j("HoverCardPortal",{forceMount:void 0}),E="HoverCardContent",A=n.forwardRef((e,s)=>{let t=k(E,e.__scopeHoverCard),{forceMount:a=t.forceMount,...n}=e,i=b(E,e.__scopeHoverCard);return(0,r.jsx)(h.C,{present:a||i.open,children:(0,r.jsx)(T,{"data-state":i.open?"open":"closed",...n,onPointerEnter:(0,c.m)(e.onPointerEnter,I(i.onOpen)),onPointerLeave:(0,c.m)(e.onPointerLeave,I(i.onClose)),ref:s})})});A.displayName=E;var T=n.forwardRef((e,s)=>{let{__scopeHoverCard:t,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:o,...m}=e,h=b(E,t),x=y(t),g=n.useRef(null),j=(0,p.s)(s,g),[N,v]=n.useState(!1);return n.useEffect(()=>{if(N){let e=document.body;return a=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=a,e.style.webkitUserSelect=a}}},[N]),n.useEffect(()=>{if(g.current){let e=()=>{v(!1),h.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var e;(null===(e=document.getSelection())||void 0===e?void 0:e.toString())!==""&&(h.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),h.hasSelectionRef.current=!1,h.isPointerDownOnContentRef.current=!1}}},[h.isPointerDownOnContentRef,h.hasSelectionRef]),n.useEffect(()=>{g.current&&(function(e){let s=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)s.push(t.currentNode);return s})(g.current).forEach(e=>e.setAttribute("tabindex","-1"))}),(0,r.jsx)(f.qW,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:(0,c.m)(d,e=>{e.preventDefault()}),onDismiss:h.onDismiss,children:(0,r.jsx)(u.UC,{...x,...m,onPointerDown:(0,c.m)(m.onPointerDown,e=>{e.currentTarget.contains(e.target)&&v(!0),h.hasSelectionRef.current=!1,h.isPointerDownOnContentRef.current=!0}),ref:j,style:{...m.style,userSelect:N?"text":void 0,WebkitUserSelect:N?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})});function I(e){return s=>"touch"===s.pointerType?void 0:e()}n.forwardRef((e,s)=>{let{__scopeHoverCard:t,...a}=e,n=y(t);return(0,r.jsx)(u.i3,{...n,...a,ref:s})}).displayName="HoverCardArrow";var S=t(22250);let F=n.forwardRef((e,s)=>{let{className:t,align:a="center",sideOffset:n=4,...i}=e;return(0,r.jsx)(A,{ref:s,align:a,sideOffset:n,className:(0,S.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})});F.displayName=A.displayName;var R=t(93557),L=t(35601),M=t(42541),D=t(17799),O=t(39997);let z=(0,O.A)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);var J=t(59166),q=t(97801),B=t(98969);let V=(0,O.A)("UserRoundPen",[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]]);var G=t(52161);let U=(0,O.A)("Grid2x2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M12 3v18",key:"108xh3"}]]),H=(0,O.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var $=t(26459);let W=(0,O.A)("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);var Z=t(14389),X=t(51873),Y=t(49153),K=t(64219),Q=t(36760),ee=t(45934),es=t(49573),et=t(76554),ea=t(7197);let er=()=>{let{toast:e}=(0,i.dj)(),[s,t]=(0,n.useState)([]),[a,c]=(0,n.useState)(!0),[o,m]=(0,n.useState)(!1),[p,u]=(0,n.useState)("grid"),[h,x]=(0,n.useState)(!1),[f,g]=(0,n.useState)("create"),[j,N]=(0,n.useState)(null),[y,v]=(0,n.useState)(null),[b,_]=(0,n.useState)(""),[C,k]=(0,n.useState)(!1),[E,A]=(0,n.useState)({iccid:"",imei:""}),[T,I]=(0,n.useState)({name:"",iccid:"",imei:"",apn:"",pdp_type:"IPV4V6",lte_bands:"",sa_nr5g_bands:"",nsa_nr5g_bands:"",network_type:"LTE",ttl:"0",paused:"0"}),[O,er]=(0,n.useState)(null);(0,n.useEffect)(()=>{ei(),el(),en();let e=setInterval(el,5e3);return()=>clearInterval(e)},[]);let en=async()=>{k(!0);try{let e=await fetch("/cgi-bin/quecmanager/at_cmd/fetch_data.sh?set=9");if(!e.ok)throw Error("Failed to fetch device information");let s=await e.json();console.log("Device info response:",s);let t="",a="",r=s.find(e=>"AT+ICCID"===e.command);if(r&&"success"===r.status){let e=r.response.match(/\d{10,20}/);e&&(t=e[0])}let n=s.find(e=>"AT+CGSN"===e.command);if(n&&"success"===n.status){let e=n.response.match(/\d{15}/);e&&(a=e[0])}console.log("Extracted device info - ICCID:",t,"IMEI:",a),A({iccid:t,imei:a}),I(e=>({...e,iccid:t||e.iccid,imei:a||e.imei}))}catch(s){console.error("Error fetching device information:",s),e({title:"Info",description:"Could not auto-populate device information",variant:"default"})}finally{k(!1)}},ei=async()=>{c(!0);try{let e=await fetch("/cgi-bin/quecmanager/profiles/list_profiles.sh");if(e.ok){let s=await e.json();"success"===s.status&&Array.isArray(s.profiles)?(console.log("Fetched profiles:",s.profiles),t(s.profiles)):(console.error("Invalid profile data structure:",s),t([]))}else console.error("Failed to fetch profiles:",e.statusText),t([])}catch(s){console.error("Error fetching profiles:",s),t([]),e({title:"Error",description:"Failed to load profiles. Please try again.",variant:"destructive"})}finally{c(!1)}},el=async()=>{try{let s=await fetch("/cgi-bin/quecmanager/profiles/check_status.sh");if(s.ok){let t=await s.json();v(t),"idle"===t.status||t.status===b||t.message.includes("already applied")||t.message.includes("Profile already correctly applied")||"applying"!==t.status||(e({title:"Profile: ".concat(t.profile),description:t.message,variant:"error"===t.status?"destructive":"default"}),_(t.status))}}catch(e){}},ed=e=>{let{id:s,value:t}=e.target;if("ttl"===s){let e=parseInt(t);if(""===t||isNaN(e)||e<0){I({...T,ttl:"0"});return}if(e>255){I({...T,ttl:"255"});return}}I({...T,[s]:t})},ec=(e,s)=>{I({...T,[e]:s})},eo=e=>{let s=e.trim(),t=s.indexOf("{");t>0&&(s=s.substring(t));let a=0,r=s.length;for(let e=0;e<s.length;e++)if("{"===s[e])a++;else if("}"===s[e]&&0==--a){r=e+1;break}return JSON.parse(s=s.substring(0,r))},em=async()=>{m(!0),er(null);try{let s;if(!T.name||!T.iccid||!T.apn){er("Profile name, ICCID, and APN are required"),m(!1);return}if(T.ttl&&(0>parseInt(T.ttl)||parseInt(T.ttl)>255)){er("TTL must be between 0 and 255"),m(!1);return}let t={name:T.name,iccid:T.iccid,imei:T.imei||"",apn:T.apn,pdp_type:T.pdp_type,lte_bands:T.lte_bands,sa_nr5g_bands:T.sa_nr5g_bands||"",nsa_nr5g_bands:T.nsa_nr5g_bands||"",network_type:T.network_type,ttl:T.ttl||"0",paused:"0"},a=await fetch("/cgi-bin/quecmanager/profiles/quec_profile_create.sh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await a.text();try{s=eo(r)}catch(e){er("Invalid response format from server"),m(!1);return}"success"===s.status?(x(!1),I({name:"",iccid:"",imei:"",apn:"",pdp_type:"IPV4V6",lte_bands:"",sa_nr5g_bands:"",nsa_nr5g_bands:"",network_type:"LTE",ttl:"0",paused:"0"}),e({title:"Success",description:"Profile created successfully",variant:"default"}),await ei(),await el()):er(s.message||"Failed to create profile")}catch(e){er("An unexpected error occurred")}finally{m(!1)}},ep=async()=>{m(!0),er(null);try{let s;if(!T.name||!T.iccid||!T.apn){er("Profile name, ICCID, and APN are required"),m(!1);return}if(T.ttl&&(0>parseInt(T.ttl)||parseInt(T.ttl)>255)){er("TTL must be between 0 and 255"),m(!1);return}let t={name:T.name,iccid:T.iccid,imei:T.imei||"",apn:T.apn,pdp_type:T.pdp_type,lte_bands:T.lte_bands,sa_nr5g_bands:T.sa_nr5g_bands||"",nsa_nr5g_bands:T.nsa_nr5g_bands||"",network_type:T.network_type,ttl:T.ttl||"0",paused:T.paused||"0"};console.log("Sending update request with data:",t);let a=await fetch("/cgi-bin/quecmanager/profiles/quec_profile_edit.sh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await a.text();try{s=eo(r)}catch(e){er("Invalid response format from server"),m(!1);return}"success"===s.status?(x(!1),I({name:"",iccid:"",imei:"",apn:"",pdp_type:"IPV4V6",lte_bands:"",sa_nr5g_bands:"",nsa_nr5g_bands:"",network_type:"LTE",ttl:"0",paused:"0"}),e({title:"Success",description:"Profile updated successfully",variant:"default"}),await ei()):er(s.message||"Failed to update profile")}catch(e){er("An unexpected error occurred")}finally{m(!1)}},eu=async(s,t)=>{try{let a;if(!window.confirm('Are you sure you want to delete profile "'.concat(t,'"?')))return;let r=await fetch("/cgi-bin/quecmanager/profiles/quec_profile_delete.sh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({iccid:s})}),n=await r.text();try{a=eo(n)}catch(s){e({title:"Error",description:"Failed to parse server response",variant:"destructive"});return}"success"===a.status?(e({title:"Profile Deleted",description:'Profile "'.concat(t,'" has been deleted successfully'),variant:"default"}),await ei(),await el()):e({title:"Error",description:a.message||"Failed to delete profile",variant:"destructive"})}catch(s){e({title:"Error",description:"An unexpected error occurred while deleting the profile",variant:"destructive"})}},eh=async(s,t,a)=>{try{let t;let r="1"===a?"0":"1",n=await fetch("/cgi-bin/quecmanager/profiles/toggle_pause.sh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({iccid:s,paused:r})}),i=await n.text();try{t=eo(i)}catch(s){e({title:"Error",description:"Invalid response format from server",variant:"destructive"});return}"success"===t.status?(e({title:"1"===r?"Profile Paused":"Profile Resumed",description:t.message,variant:"default"}),await ei(),await el()):e({title:"Error",description:t.message||"Failed to update profile status",variant:"destructive"})}catch(s){e({title:"Error",description:"An unexpected error occurred while updating the profile",variant:"destructive"})}},ex=e=>{g("edit"),I({name:e.name,iccid:e.iccid,imei:e.imei||"",apn:e.apn,pdp_type:e.pdp_type,lte_bands:e.lte_bands,sa_nr5g_bands:e.sa_nr5g_bands||"",nsa_nr5g_bands:e.nsa_nr5g_bands||"",network_type:e.network_type,ttl:e.ttl||"0",paused:e.paused||"0"}),N(e),er(null),x(!0)},ef=e=>{switch(e){case"AUTO":return"AUTO";case"LTE":return"4G LTE";case"NR5G":return"5G SA";case"LTE:NR5G":return"5G NSA";default:return e}};return(0,r.jsx)("div",{children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"QuecProfiles"}),(0,r.jsx)(l.BT,{children:"Configure personalized profiles for your SIM cards to manage connectivity settings and network preferences."})]}),(0,r.jsxs)(l.Wu,{className:"grid gap-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(R.lG,{open:h,onOpenChange:x,children:[(0,r.jsx)(R.zM,{asChild:!0,children:(0,r.jsxs)(M.$,{onClick:()=>{g("create"),er(null),I({name:"",iccid:E.iccid||"",imei:E.imei||"",apn:"",pdp_type:"IPV4V6",lte_bands:"",sa_nr5g_bands:"",nsa_nr5g_bands:"",network_type:"LTE",ttl:"0",paused:"0"}),x(!0)},children:[(0,r.jsx)(V,{className:"w-4 h-4"}),"Add New Profile"]})}),(0,r.jsxs)(R.Cf,{children:[(0,r.jsxs)(R.c7,{children:[(0,r.jsx)(R.L3,{children:"create"===f?"Add New Profile":"Edit Profile"}),(0,r.jsx)(R.rr,{children:"create"===f?"Create a new profile for your SIM card to manage connectivity settings and network preferences.":"Update the settings for this profile."})]}),O&&(0,r.jsxs)(es.Fc,{variant:"destructive",className:"my-2",children:[(0,r.jsx)(D.A,{className:"h-4 w-4"}),(0,r.jsx)(es.XL,{children:"Error"}),(0,r.jsx)(es.TN,{children:O})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-y-5 gap-x-4 py-4",children:[(0,r.jsxs)("div",{className:"col-span-2 grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"name",children:"Profile Name"}),(0,r.jsx)(K.p,{id:"name",placeholder:"My Network Profile",value:T.name,onChange:ed,required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"iccid",children:"ICCID"}),(0,r.jsx)(K.p,{id:"iccid",placeholder:"SIM ICCID",value:T.iccid,onChange:ed,disabled:"edit"===f,required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"imei",children:"IMEI"}),(0,r.jsx)(K.p,{id:"imei",placeholder:"Preferred IMEI",value:T.imei,onChange:ed})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"apn",children:"APN"}),(0,r.jsx)(K.p,{id:"apn",placeholder:"internet",value:T.apn,onChange:ed,required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"pdp_type",children:"APN PDP Type"}),(0,r.jsxs)(L.l6,{value:T.pdp_type,onValueChange:e=>ec("pdp_type",e),children:[(0,r.jsx)(L.bq,{children:(0,r.jsx)(L.yv,{placeholder:"PDP Type"})}),(0,r.jsxs)(L.gC,{children:[(0,r.jsx)(L.eb,{value:"IP",children:"IPV4"}),(0,r.jsx)(L.eb,{value:"IPV6",children:"IPV6"}),(0,r.jsx)(L.eb,{value:"IPV4V6",children:"IPV4 & IPV6"})]})]})]}),(0,r.jsxs)("div",{className:"col-span-2 grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"lte_bands",children:"LTE Bands"}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(K.p,{id:"lte_bands",placeholder:"1,3,7,20",value:T.lte_bands,onChange:ed}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Comma-separated list of LTE bands."})]})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"nsa_nr5g_bands",children:"NR5G-NSA Bands"}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(K.p,{id:"nsa_nr5g_bands",placeholder:"41,78",value:T.nsa_nr5g_bands,onChange:ed}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Comma-separated list of NSA bands."})]})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"sa_nr5g_bands",children:"NR5G-SA Bands"}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(K.p,{id:"sa_nr5g_bands",placeholder:"41,78",value:T.sa_nr5g_bands,onChange:ed}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground italic",children:"Comma-separated list of SA bands."})]})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"network_type",children:"Network Type"}),(0,r.jsxs)(L.l6,{value:T.network_type,onValueChange:e=>ec("network_type",e),children:[(0,r.jsx)(L.bq,{children:(0,r.jsx)(L.yv,{placeholder:"Network Type"})}),(0,r.jsxs)(L.gC,{children:[(0,r.jsx)(L.eb,{value:"LTE",children:"LTE Only"}),(0,r.jsx)(L.eb,{value:"NR5G",children:"NR5G Only"}),(0,r.jsx)(L.eb,{value:"LTE:NR5G",children:"NR5G-NSA w/ LTE"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-1.5",children:[(0,r.jsx)(Y.J,{htmlFor:"ttl",children:"TTL Value"}),(0,r.jsx)("div",{className:"grid gap-0.5",children:(0,r.jsx)(K.p,{id:"ttl",type:"number",min:"0",max:"255",placeholder:"0 (disabled)",value:T.ttl,onChange:ed})})]})]}),(0,r.jsx)(R.Es,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(M.$,{variant:"secondary",onClick:()=>x(!1),disabled:o,children:"Cancel"}),(0,r.jsx)(M.$,{onClick:"create"===f?em:ep,disabled:o,children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J.A,{className:"h-4 w-4 animate-spin"}),"create"===f?"Creating...":"Updating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G.A,{className:"h-4 w-4"}),"create"===f?"Save Profile":"Update Profile"]})})]})})]})]}),(0,r.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-md p-1",children:[(0,r.jsx)("button",{className:"p-1 rounded ".concat("grid"===p?"bg-white dark:bg-gray-700 shadow-sm":""),onClick:()=>u("grid"),children:(0,r.jsx)(U,{size:18})}),(0,r.jsx)("button",{className:"p-1 rounded ".concat("list"===p?"bg-white dark:bg-gray-700 shadow-sm":""),onClick:()=>u("list"),children:(0,r.jsx)(H,{size:18})})]})]}),"grid"===p&&(0,r.jsx)("div",{className:"grid gap-4",children:a?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"border rounded-lg p-4",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(Q.E,{className:"h-5 w-40"}),(0,r.jsx)(Q.E,{className:"h-4 w-20"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(Q.E,{className:"h-3 w-20"}),(0,r.jsx)(Q.E,{className:"h-4 w-32"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(Q.E,{className:"h-3 w-20"}),(0,r.jsx)(Q.E,{className:"h-4 w-32"})]})]})]})})}):s&&s.length>0?s.map((e,s)=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsx)(l.ZB,{className:"xl:text-xl font-bold tracking-wide",children:e.name}),(0,r.jsxs)(d.AM,{children:[(0,r.jsx)(d.Wv,{children:(0,r.jsx)($.A,{className:"h-4 w-4"})}),(0,r.jsx)(d.hl,{className:"w-48",children:(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)(M.$,{onClick:()=>ex(e),children:[(0,r.jsx)(W,{className:"h-4 w-4"}),"Edit Profile"]}),(0,r.jsx)(M.$,{onClick:()=>eh(e.iccid,e.name,e.paused||"0"),className:(0,S.cn)("w-full justify-start","1"===e.paused&&"bg-emerald-600 hover:bg-emerald-700 text-white","0"===e.paused&&"bg-orange-500 hover:bg-orange-600 text-white"),children:"1"===e.paused?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.A,{className:"h-4 w-4"}),"Resume Profile"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{className:"h-4 w-4"}),"Pause Profile"]})}),(0,r.jsx)(et.w,{className:"my-1"}),(0,r.jsxs)(M.$,{variant:"destructive",onClick:()=>eu(e.iccid,e.name),children:[(0,r.jsx)(X.A,{className:"h-4 w-4"}),"Delete Profile"]})]})})]})]}),(0,r.jsxs)(l.BT,{className:"flex items-center",children:[(0,r.jsx)(ee.E,{variant:"secondary",className:"text-xs",children:ef(e.network_type)}),"1"===e.paused&&(0,r.jsx)(ee.E,{variant:"outline",className:"ml-2 bg-orange-500 hover:bg-orange-600",children:"Paused"})]})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"ICCID-".concat(s),className:"text-sm text-muted-foreground",children:"SIM ICCID"}),(0,r.jsx)("p",{id:"ICCID-".concat(s),className:"font-semibold",children:e.iccid})]}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"IMEI-".concat(s),className:"text-sm text-muted-foreground",children:"Preferred IMEI"}),(0,r.jsx)("p",{id:"IMEI-".concat(s),className:"font-semibold",children:e.imei||"-"})]}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"APN-".concat(s),className:"text-sm text-muted-foreground",children:"Preferred APN"}),(0,r.jsx)("p",{id:"APN-".concat(s),className:"font-semibold",children:e.apn})]}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"PDP-".concat(s),className:"text-sm text-muted-foreground",children:"Preferred APN PDP Type"}),(0,r.jsx)("p",{id:"PDP-".concat(s),className:"font-semibold",children:e.pdp_type})]}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"prefTTl-".concat(s),className:"text-sm text-muted-foreground",children:"Preferred TTL"}),(0,r.jsx)("p",{id:"prefTTL-".concat(s),className:"font-semibold",children:e.ttl||"0"})]}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"prefLTEBands-".concat(s),className:"text-sm text-muted-foreground",children:"Preferred LTE Bands"}),(0,r.jsx)("p",{id:"prefLTEBands-".concat(s),className:"font-semibold",children:e.lte_bands||"-"})]}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"prefNRNSABands-".concat(s),className:"text-sm text-muted-foreground",children:"Preferred NR5G-NSA Bands"}),(0,r.jsx)("p",{id:"prefNRNSABands-".concat(s),className:"font-semibold",children:e.nsa_nr5g_bands||"-"})]}),(0,r.jsxs)("div",{className:"grid gap-0.5",children:[(0,r.jsx)(Y.J,{htmlFor:"prefNRSABands-".concat(s),className:"text-sm text-muted-foreground",children:"Preferred NR5G-SA Bands"}),(0,r.jsx)("p",{id:"prefNRSABands-".concat(s),className:"font-semibold",children:e.sa_nr5g_bands||"-"})]})]})})]},s)):(0,r.jsxs)("div",{className:"text-center py-8 border rounded-lg",children:[(0,r.jsx)("div",{className:"mx-auto w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-4",children:(0,r.jsx)(V,{className:"h-6 w-6 text-muted-foreground"})}),(0,r.jsx)("h3",{className:"font-medium text-lg mb-1",children:"No Profiles Found"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"Simplify network management with profiles that automatically apply your preferred settings."})]})}),"list"===p&&(0,r.jsx)("div",{className:"border rounded-md overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-muted/50",children:[(0,r.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Profile Name"}),(0,r.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"IMEI"}),(0,r.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"APN"}),(0,r.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Network"}),(0,r.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"TTL"}),(0,r.jsx)("th",{className:"h-10 px-4 text-left align-middle font-medium text-muted-foreground",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:a?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{className:"border-t",children:[(0,r.jsxs)("td",{className:"p-4",children:[(0,r.jsx)(Q.E,{className:"h-5 w-32"}),(0,r.jsx)(Q.E,{className:"h-3 w-24 mt-1"})]}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)(Q.E,{className:"h-5 w-40"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)(Q.E,{className:"h-5 w-28"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)(Q.E,{className:"h-5 w-20"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)(Q.E,{className:"h-5 w-10"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(Q.E,{className:"h-8 w-8 rounded-md"}),(0,r.jsx)(Q.E,{className:"h-8 w-8 rounded-md"})]})})]})}):s&&s.length>0?s.map((e,s)=>(0,r.jsxs)("tr",{className:"border-t hover:bg-muted/50 transition-colors",children:[(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)(w,{children:[(0,r.jsxs)(P,{className:"flex items-center gap-x-1",children:[(0,r.jsx)(ea._TA,{className:"size-4 text-emerald-500"}),(0,r.jsx)("p",{className:"underline underline-offset-4 cursor-pointer font-medium ",children:e.name})]}),(0,r.jsxs)(F,{className:"text-sm font-medium text-center w-auto",children:[(0,r.jsx)("span",{className:"font-semibold mr-4",children:"ICCID"}),e.iccid]})]})}),(0,r.jsx)("td",{className:"p-4",children:e.imei||"Not specified"}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)(w,{children:[(0,r.jsxs)(P,{className:"flex items-center gap-x-1",children:[(0,r.jsx)(ea._TA,{className:"size-4 text-emerald-500"}),(0,r.jsx)("p",{className:"underline underline-offset-4 cursor-pointer font-medium ",children:e.apn})]}),(0,r.jsx)(F,{className:"text-sm font-semibold text-center w-auto",children:e.pdp_type})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{children:ef(e.network_type)})}),(0,r.jsx)("td",{className:"p-4",children:e.ttl&&parseInt(e.ttl)>0?(0,r.jsx)("span",{children:e.ttl}):(0,r.jsx)("span",{children:"Off"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("div",{children:(0,r.jsxs)(d.AM,{children:[(0,r.jsx)(d.Wv,{asChild:!0,children:(0,r.jsx)(M.$,{variant:"ghost",children:(0,r.jsx)($.A,{className:"h-4 w-4"})})}),(0,r.jsx)(d.hl,{className:"w-48",children:(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)(M.$,{onClick:()=>ex(e),children:[(0,r.jsx)(W,{className:"h-4 w-4"}),"Edit Profile"]}),(0,r.jsx)(M.$,{onClick:()=>eh(e.iccid,e.name,e.paused||"0"),className:(0,S.cn)("w-full justify-start","1"===e.paused&&"bg-emerald-600 hover:bg-emerald-700 text-white","0"===e.paused&&"bg-orange-500 hover:bg-orange-600 text-white"),children:"1"===e.paused?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.A,{className:"h-4 w-4"}),"Resume Profile"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{className:"h-4 w-4"}),"Pause Profile"]})}),(0,r.jsx)(et.w,{className:"my-1"}),(0,r.jsxs)(M.$,{variant:"destructive",onClick:()=>eu(e.iccid,e.name),children:[(0,r.jsx)(X.A,{className:"h-4 w-4"}),"Delete Profile"]})]})})]})})})]},s)):(0,r.jsx)("tr",{className:"border-t",children:(0,r.jsx)("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No profiles found. Create one to get started."})})})]})}),(()=>{if(!y||"idle"===y.status)return y&&y.message&&y.message.includes("No profile exists")?(0,r.jsxs)(es.Fc,{className:"mb-1",variant:"default",children:[(0,r.jsx)(D.A,{className:"h-4 w-4",color:"orange"}),(0,r.jsx)(es.XL,{children:"No Profile Found"}),(0,r.jsx)(es.TN,{className:"flex justify-between items-center",children:(0,r.jsx)("span",{children:"No profile exists for the current SIM card. Create a profile to configure your network settings."})})]}):null;if("paused"===y.status)return(0,r.jsxs)(es.Fc,{className:"mb-1",variant:"default",children:[(0,r.jsx)(z,{className:"h-4 w-4",color:"orange"}),(0,r.jsx)(es.XL,{children:"Profile Paused"}),(0,r.jsx)(es.TN,{className:"flex justify-between items-center",children:(0,r.jsx)("span",{children:y.message||'Profile "'.concat(y.profile,'" is currently paused. Resume to apply settings.')})})]});let e=y.message,s="";return"error"===y.status?(s="Profile Issue",y.message.includes("missing the required APN setting")?(s="Missing APN Setting",e='Please edit profile "'.concat(y.profile,'" and add an APN to enable network connectivity.')):y.message.includes("Could not detect SIM card")?(s="SIM Card Not Detected",e="Please check that a SIM card is properly inserted in your device."):y.message.includes("Could not communicate with modem")&&(s="Modem Communication Error",e="Having trouble connecting to the cellular modem. Please check your device.")):"success"===y.status&&(y.message.includes("already applied")||y.message.includes("Profile already correctly applied"))?(s="Profile Active",e='Profile "'.concat(y.profile,'" is active and correctly applied')):"applying"===y.status?s="Applying Profile":"rebooting"===y.status?(s="Device Rebooting",e="Your device is restarting to apply configuration changes."):s="Success",(0,r.jsxs)(es.Fc,{className:"mb-1",variant:"error"===y.status?"destructive":"default",children:["applying"===y.status?(0,r.jsx)(J.A,{className:"h-4 w-4 animate-spin"}):"error"===y.status?(0,r.jsx)(D.A,{className:"h-4 w-4",color:"orange"}):"rebooting"===y.status?(0,r.jsx)(q.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(B.A,{className:"h-4 w-4",color:"green"}),(0,r.jsx)(es.XL,{children:s}),(0,r.jsxs)(es.TN,{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{children:e}),"applying"===y.status&&(0,r.jsxs)("span",{className:"font-semibold",children:[y.progress,"%"]})]})]})})()]})]})})}},93557:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>u,Es:()=>x,HM:()=>m,L3:()=>f,c7:()=>h,lG:()=>d,rr:()=>g,zM:()=>c});var a=t(20475),r=t(20107),n=t(60241),i=t(7197),l=t(22250);let d=n.bL,c=n.l9,o=n.ZL,m=n.bm,p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.hJ,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});p.displayName=n.hJ.displayName;let u=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(p,{}),(0,a.jsxs)(n.UC,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,a.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.MKb,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName;let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};h.displayName="DialogHeader";let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};x.displayName="DialogFooter";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.hE,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});f.displayName=n.hE.displayName;let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.VY,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});g.displayName=n.VY.displayName},55948:(e,s,t)=>{"use strict";t.d(s,{AM:()=>l,Wv:()=>d,hl:()=>c});var a=t(20475),r=t(20107),n=t(21869),i=t(22250);let l=n.bL,d=n.l9;n.Mz;let c=r.forwardRef((e,s)=>{let{className:t,align:r="center",sideOffset:l=4,...d}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:s,align:r,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});c.displayName=n.UC.displayName},36760:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(20475),r=t(22250);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-primary/10",s),...t})}},17799:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(39997).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},14389:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(39997).A)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},26459:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(39997).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[9980,1258,4687,3746,9464,3494,7510,2487,191,6035,7358],()=>s(18866)),_N_E=e.O()}]);