(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5914],{70066:(e,t,a)=>{Promise.resolve().then(a.bind(a,58674))},58674:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(20475),r=a(20107),n=a(32857),d=a(72167),o=a(49153),i=a(18861),l=a(64219),c=a(79266),u=a(37369),f=a(74624),m=a(22250),h=a(77257);let b=r.createContext({size:"default",variant:"default"}),p=r.forwardRef((e,t)=>{let{className:a,variant:r,size:n,children:d,...o}=e;return(0,s.jsx)(f.bL,{ref:t,className:(0,m.cn)("flex items-center justify-center gap-1",a),...o,children:(0,s.jsx)(b.Provider,{value:{variant:r,size:n},children:d})})});p.displayName=f.bL.displayName;let y=r.forwardRef((e,t)=>{let{className:a,children:n,variant:d,size:o,...i}=e,l=r.useContext(b);return(0,s.jsx)(f.q7,{ref:t,className:(0,m.cn)((0,h.v)({variant:l.variant||d,size:l.size||o}),a),...i,children:n})});y.displayName=f.q7.displayName;var g=a(42541);let x=()=>{let{toast:e}=(0,n.dj)(),[t,a]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),[h,b]=(0,r.useState)({enabled:!1,time:"03:00",days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}),[x,v]=(0,r.useState)("03:00"),[w,N]=(0,r.useState)(["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]),j=async()=>{try{a(!0);let e=await fetch("/cgi-bin/quecmanager/experimental/scheduled_reboot.sh");if(!e.ok)throw Error("Failed to fetch configuration");let t=await e.text();try{let e=JSON.parse(t);if("success"===e.status&&e.data){let t=e.data,a={enabled:"boolean"==typeof t.enabled&&t.enabled,time:"string"==typeof t.time?t.time:"03:00",days:Array.isArray(t.days)?t.days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]};b(a),v(a.time),N(a.days)}else throw Error(e.message||"Invalid configuration format")}catch(e){throw console.error("Response parsing error:",t),Error("Failed to parse server response")}}catch(t){e({variant:"destructive",title:"Error",description:t instanceof Error?t.message:"Failed to fetch configuration"})}finally{a(!1)}},T=async function(t){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{m(!0);let s=await fetch("/cgi-bin/quecmanager/experimental/scheduled_reboot.sh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to save configuration");let r=await s.json();if("success"===r.status)b(r.data),v(r.data.time),N(r.data.days),a&&e({title:"Success",description:"Scheduled reboot settings saved successfully"});else throw Error(r.message||"Failed to save configuration")}catch(t){e({variant:"destructive",title:"Error",description:t instanceof Error?t.message:"Failed to save configuration"})}finally{m(!1)}},S=async e=>{e?await T({enabled:!0,time:x,days:w}):await T({...h,enabled:!1})},E=async e=>{N(e),h.enabled&&await T({enabled:!0,time:x,days:e},!1)},F=async()=>{try{m(!0);let t=await fetch("/cgi-bin/quecmanager/experimental/scheduled_reboot.sh",{method:"DELETE"});if(!t.ok)throw Error("Failed to reset configuration");let a=await t.json();if("success"===a.status)b(a.data),v(a.data.time),N(a.data.days),e({title:"Success",description:"Scheduled reboot settings reset to default"});else throw Error(a.message||"Failed to reset configuration")}catch(t){e({variant:"destructive",title:"Error",description:t instanceof Error?t.message:"Failed to reset configuration"})}finally{m(!1)}};return(0,r.useEffect)(()=>{j()},[]),(0,s.jsxs)(d.Zp,{children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{children:"Scheduled Reboot"}),(0,s.jsx)(d.BT,{children:"Manage the scheduled reboot settings for your device."})]}),(0,s.jsxs)(d.Wu,{className:"grid space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,s.jsx)(i.d,{id:"scheduled-reboot",checked:h.enabled,onCheckedChange:S,disabled:f||t}),(0,s.jsx)(o.J,{htmlFor:"scheduled-reboot",children:"Enable Scheduled Reboot"})]}),(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-2",children:[(0,s.jsx)(o.J,{htmlFor:"rebootTime",children:"Set Reboot Time"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.p,{id:"rebootTime",type:"time",placeholder:"Reboot Time",value:x,onChange:e=>{v(e.target.value)},disabled:f,className:"peer block w-full rounded-md border py-[9px] text-sm"}),(0,s.jsx)(c.A,{className:"pointer-events-none absolute right-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2"})]})]}),(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-2",children:[(0,s.jsx)(o.J,{htmlFor:"days",children:"Set Reboot Days"}),(0,s.jsxs)(p,{type:"multiple",variant:"outline",value:w,onValueChange:E,disabled:f,children:[(0,s.jsx)(y,{value:"monday","aria-label":"Toggle Monday",className:"data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:border-none",children:(0,s.jsx)(o.J,{className:"cursor-pointer",htmlFor:"monday",children:"Monday"})}),(0,s.jsx)(y,{value:"tuesday","aria-label":"Toggle Tuesday",className:"data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:border-none",children:(0,s.jsx)(o.J,{className:"cursor-pointer",htmlFor:"tuesday",children:"Tuesday"})}),(0,s.jsx)(y,{value:"wednesday","aria-label":"Toggle Wednesday",className:"data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:border-none",children:(0,s.jsx)(o.J,{className:"cursor-pointer",htmlFor:"wednesday",children:"Wednesday"})}),(0,s.jsx)(y,{value:"thursday","aria-label":"Toggle Thursday",className:"data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:border-none",children:(0,s.jsx)(o.J,{className:"cursor-pointer",htmlFor:"thursday",children:"Thursday"})}),(0,s.jsx)(y,{value:"friday","aria-label":"Toggle Friday",className:"data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:border-none",children:(0,s.jsx)(o.J,{className:"cursor-pointer",htmlFor:"friday",children:"Friday"})}),(0,s.jsx)(y,{value:"saturday","aria-label":"Toggle Saturday",className:"data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:border-none",children:(0,s.jsx)(o.J,{className:"cursor-pointer",htmlFor:"saturday",children:"Saturday"})}),(0,s.jsx)(y,{value:"sunday","aria-label":"Toggle Sunday",className:"data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:border-none",children:(0,s.jsx)(o.J,{className:"cursor-pointer",htmlFor:"sunday",children:"Sunday"})})]})]})]}),(0,s.jsx)(d.wL,{className:"flex border-t py-4",children:(0,s.jsxs)(g.$,{variant:"secondary",onClick:F,disabled:f||t,children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),"Reset to Default"]})})]})}},42541:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>i});var s=a(20475),r=a(20107),n=a(61837),d=a(29395),o=a(22250);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:d,asChild:l=!1,...c}=e,u=l?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:r,size:d,className:a})),ref:t,...c})});l.displayName="Button"},72167:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>o,wL:()=>u});var s=a(20475),r=a(20107),n=a(22250);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});d.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});l.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},64219:(e,t,a)=>{"use strict";a.d(t,{p:()=>d});var s=a(20475),r=a(20107),n=a(22250);let d=r.forwardRef((e,t)=>{let{className:a,type:r,...d}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...d})});d.displayName="Input"},49153:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var s=a(20475),r=a(20107),n=a(21840),d=a(29395),o=a(22250);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,o.cn)(i(),a),...r})});l.displayName=n.b.displayName},18861:(e,t,a)=>{"use strict";a.d(t,{d:()=>o});var s=a(20475),r=a(20107),n=a(80982),d=a(22250);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{className:(0,d.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(n.zi,{className:(0,d.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});o.displayName=n.bL.displayName},77257:(e,t,a)=>{"use strict";a.d(t,{l:()=>l,v:()=>i});var s=a(20475),r=a(20107),n=a(85692),d=a(29395),o=a(22250);let i=(0,d.F)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:d,...l}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,o.cn)(i({variant:r,size:d,className:a})),...l})});l.displayName=n.b.displayName},32857:(e,t,a)=>{"use strict";a.d(t,{dj:()=>f,oR:()=>u});var s=a(20107);let r=0,n=new Map,d=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?d(a):e.toasts.forEach(e=>{d(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],l={toasts:[]};function c(e){l=o(l,e),i.forEach(e=>{e(l)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=s.useState(l);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},22250:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(64901),r=a(868);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[7780,8704,191,6035,7358],()=>t(70066)),_N_E=e.O()}]);